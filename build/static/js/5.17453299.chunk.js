(this.webpackJsonpViteaceInventory=this.webpackJsonpViteaceInventory||[]).push([[5],{987:function(t,e,a){"use strict";a.r(e);var n,s=a(0),i=a.n(s),l=a(39),o=a(40),r=a(44),c=a(43),m=a(3),d=a.n(m),u=a(162),f=a(14),h=a(978),v=a(20),g=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t,n){var s,i;return Object(l.a)(this,a),(i=e.call(this,t,n)).state={formEntity:null!==(s=t.parentRef.state.paramObj)&&void 0!==s?s:{name:""},formValidated:!1,loading:!1},i}return Object(o.a)(a,[{key:"componentDidMount",value:function(){}},{key:"cancelForm",value:function(){this.props.parentRef.showListView(!0)}},{key:"submitForm",value:function(){if(f.l("formEntity",this)){var t=this,e=t.state;e.loading=!0,t.setState(e),v.g(v.a.Commodity_commodities,this.state.formEntity,(function(a){var n;console.log(" response is: "+a),null!=(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.id)&&(t.props.parentRef.loadGrid(t.props.parentRef,"commodities/"),f.i(" Commodity",!1)),e.loading=!1,t.setState(e)}))}}},{key:"render",value:function(){var t=this;return i.a.createElement(h.a,{noValidate:!0,validated:this.state.formValidated,id:"formEntity",className:"needs-validation"},i.a.createElement("div",{className:"row ",id:"container"},i.a.createElement("div",{className:"col-lg-4 form-group"},i.a.createElement("label",{className:"form-label"},"Name",i.a.createElement("span",{className:"text-danger"}," *")),i.a.createElement("input",{type:"text",id:"name",name:"name",className:"form-control form-control-sm fs-md",value:this.state.formEntity.name,onChange:function(e){return f.k(t.state.formEntity,e,t,t.state)},required:!0}),i.a.createElement("label",{className:"form-label"},"Date ",i.a.createElement("span",{className:"text-danger"}," *"),"  "),i.a.createElement("input",{type:"date",id:"keywordText",name:"keywordText",className:"form-control form-control-sm fs-md",value:this.state.formEntity.date,placeholder:this.state.formEntity.date,onChange:function(e){return f.k(t.state.formEntity,e,t,t.state)},required:!0}))),i.a.createElement("div",{className:"d-flex justify-content-end mt-10"},i.a.createElement("button",{type:"button",id:"btnCloseUserModal",onClick:function(){return t.cancelForm()},className:"btn btn-sm btn-danger mr-5"}," ",i.a.createElement("span",{className:"fa fa-times"})," Close"),i.a.createElement("button",{type:"button",id:"btnSaveUser",onClick:function(){return t.submitForm()},className:"btn btn-sm btn-success"}," ",!this.state.loading&&i.a.createElement("span",{className:"fa fa-save"}),this.state.loading&&i.a.createElement("span",{className:"ml-3 spinner spinner-white"})," ","Save")))}}]),a}(i.a.Component),b=(a(261),a(530),a(139)),p=a.n(b),E=a(267),y=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",paddingTop:"100px"}},i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(E.a,{color:"#6ee7b7"})))},L=function(t){Object(r.a)(a,t);var e=Object(c.a)(a);function a(t,n){var s;return Object(l.a)(this,a),(s=e.call(this,t,n)).handlePageClick=function(t){var e=t.selected,a=e*s.state.limit,n="commodities/?limit=".concat(s.state.limit,"&offset=").concat(a);s.loadGrid(null,n,e)},s.handlePageClick=function(t){var e=t.selected,a=e*s.state.perPage;s.setState({currentPage:e,offset:a},(function(){s.loadGrid()}))},s.state={showUsersList:!0,entityName:"Commodity",heading:"Commodities",paramObj:{},List:[],isdataLoading:!1,isLoading:!0,offset:0,count:0,limit:20,getMoreUrl:"",currentPage:0,startingPoint:1,loadingStatus:{status:!0,message:"Loading ..."}},s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.loadGrid(null,v.a.Commodity_commodities)}},{key:"showListView",value:function(t,e,a){var n,s=(a=null!==(n=a)&&void 0!==n?n:this).state;s.showUsersList=t,s.heading=e,a.setState(s,(function(){}))}},{key:"initializeDT",value:function(){n=d()("#List").DataTable({responsive:!0,columnDefs:[{responsivePriority:1,targets:0},{responsivePriority:2,targets:-1}]})}},{key:"loadGrid",value:function(t,e){var a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=(t=null!==(a=t)&&void 0!==a?a:this).state;s.List=[],s.isLoading=!0,s.isdataLoading=!0,s.loadingStatus={status:!0,message:"Loading ..."},v.e(e,(function(e){var a,s;if((null===e||void 0===e||null===(a=e.data)||void 0===a||null===(s=a.results)||void 0===s?void 0:s.length)>0){var i=t.state;i.List=e.data.results,i.isdataLoading=!1,i.offset=n,i.isLoading=!1,i.pageCount=Math.ceil((null===e||void 0===e?void 0:e.data.count)/i.limit),i.count=null===e||void 0===e?void 0:e.data.count,i.isLoading=!1,i.loadingStatus={status:!0,message:""},i.showUsersList=!0,t.setState(i,(function(){}))}else{var l=t.state;l.List=[],l.isdataLoading=!1,l.isLoading=!1,l.loadingStatus={status:!1,message:""},t.setState(l)}}))}},{key:"edit",value:function(t){var e=this.state;e.paramObj=t,this.setState(e),this.showListView(!1,t?"Edit ".concat(this.state.entityName):"Add New ".concat(this.state.entityName))}},{key:"delete",value:function(t){var e=this;f.e("Do you want to delete this ".concat(this.state.entityName,"?"),"Are you sure?",(function(){v.d(v.c.Keyword_Delete,t,(function(a){if(null===a||void 0===a?void 0:a.data){f.f(e.state.entityName);var s=e.state;s.List=f.d(s.List,"id",t),e.setState(s,(function(){n.row(d()("#row_"+t)[0]).remove().draw()}))}}))}),null)}},{key:"render",value:function(){var t=this,e=this.state,a=e.isdataLoading;e.List;return i.a.createElement("div",{className:"card card-custom"},i.a.createElement("div",{className:"card-header"},i.a.createElement("div",{className:"card-title"},i.a.createElement("h3",{className:"card-label font-weight-bolder text-dark"},this.state.heading)),i.a.createElement("div",{className:"card-toolbar"},this.state.showUsersList&&i.a.createElement("button",{onClick:function(){return t.edit(void 0)},type:"button",className:"btn btn-success btn-sm"},i.a.createElement("i",{className:"fa fa-plus"})," Create New"," ",this.state.entityName),!this.state.showUsersList&&i.a.createElement("button",{onClick:function(){return t.showListView(!t.state.showUsersList,"Commodities")},type:"button",className:"btn btn-dark btn-sm"},i.a.createElement("i",{className:"fa fa-arrow-left"})," Back To List"))),i.a.createElement("div",{className:"card-body"},this.state.isLoading&&this.state.showUsersList?"Loading ...":this.state.showUsersList&&i.a.createElement(u.Animated,{animationIn:"bounceInLeft",animationOut:"fadeOut",isVisible:!0},a?i.a.createElement(y,null):i.a.createElement("div",null,i.a.createElement("table",{id:"List",className:"table table-sm table-hover table-striped table-bordered w-100"},i.a.createElement("thead",{className:"bg-custom text-white"},i.a.createElement("tr",null,i.a.createElement("th",null,i.a.createElement("i",{className:"fa fa-clipboard-list mr-1"})," Name"),i.a.createElement("th",{className:"text-center"},i.a.createElement("i",{className:"fa fa-calendar-alt mr-1"})," ","Created Date"))),i.a.createElement("tbody",null,null!=this.state.List&&this.state.List.length>0?this.state.List.map((function(t,e){return i.a.createElement("tr",{key:e,id:"row_".concat(t.id)},i.a.createElement("td",null,t.name),i.a.createElement("td",{align:"center"},new Date(t.created).toLocaleDateString()))})):i.a.createElement("tr",null,i.a.createElement("td",{colSpan:"5",className:"text-center text-danger"}," ",i.a.createElement("h5",null,"No Data Available")," ")))),i.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"row"}},i.a.createElement("div",null,this.state.offset*this.state.limit+this.state.limit>this.state.count?i.a.createElement("span",null," ","Showing"," ",this.state.offset*this.state.limit+this.state.startingPoint," ","to ",this.state.count," from ",this.state.count):i.a.createElement("span",null," ","Showing"," ",this.state.offset*this.state.limit+this.state.startingPoint," ","to"," ",this.state.offset*this.state.limit+this.state.limit," ","from ",this.state.count," ")),i.a.createElement("div",null,i.a.createElement(p.a,{previousLabel:"prev",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:this.state.pageCount,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:this.handlePageClick,containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"}))))),!this.state.showUsersList&&i.a.createElement(u.Animated,{animationIn:"bounceInLeft",animationOut:"fadeOut",isVisible:!0},i.a.createElement(g,{parentRef:this}))))}}]),a}(i.a.Component);function N(){return i.a.createElement(L,null)}a.d(e,"default",(function(){return N}))}}]);
//# sourceMappingURL=5.17453299.chunk.js.map